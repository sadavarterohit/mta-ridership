[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "MTA ridership Analysis",
    "section": "",
    "text": "1 Introduction\nThe subway is one of the most iconic parts of New York City! It’s an iconic and historic mode of transportation that has made its way into every New Yorker’s life. So much so, that there are entire art movements dedicated to life in New York on the subway lines. A major chunk of critical commentary about the NYC subway is the delays and maintenance activities. The subway trains go into delays sometimes unexpectedly, usually due to something blocking the track, sometimes due to individuals activities on these subways etc.\nThese delays cause major problems to all those who use the subway on a regular basis, they need to find alternate modes of transport, and are delayed into getting on with their lives on quite a regular basis.\nThis study is aimed at finding the patterns in these delays, which may be cruicial for city policy makers, and residents alike, about the actual frequency and intensity of delays across different subway lines, through the course of a long period of time, along with the reasons for these delays.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Description\nThere are four main datasets that we plan to use for this project. All of the data is collected by the Metropolitan Transportation Authority, and were imported by directly downloading the CSV files from the official website.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#description",
    "href": "data.html#description",
    "title": "2  Data",
    "section": "",
    "text": "2.1.1 MTA Subway Trains Delayed: Beginning 2020\nThis dataset (source) contains the number and percentage of subway trains delayed per weekday, broken down into specific delay categories (from 2020 onward). According to the source, the data on train arrivals is manually entered into a digital dispatching tool, and the number of trains delayed by more than five minutes or missing scheduled stops is summed up. Additionally, every delay is manually assigned a category and subcategory. Thus, the assignment of categories to delays depends on the subjective judgment of the dispatcher, and in some cases, the delays may be caused by more than one cause (which cannot be recorded in this format). The frequency of updates to this dataset varies widely, but it has been updated at least once every month. As of 11/19/2024, the dataset has 39051 rows and 7 columns.\nThe following columns are included in the data:\n\nmonth - The month in which the delays occur\ndivision - The subway line division, lettered or numbered\nline - The subway line\nday_type - Whether the day is a weekday (1) or a weekend (2)\nreporting_category - One of six categories causing the delays\nsubcategory - The subcategory of the delays\ndelays - The number of train delays for the category and time period\n\n\n\n2.1.2 MTA Service Alerts: Beginning April 2020\nThis dataset (source) contains details of service alerts causing route changes in the MTA from April 2020 onward. Note that this contains service changes of MTA buses as well, but for now we are interested in the MTA subway alone. Real-time service alerts are first drafted within the MTA alert system, and then disseminated via various channels in real time, while planned alerts are entered into the system ahead of time. The frequency of updates to this dataset varies, but it has been updated at least once every month on average. As of 11/19/2024, the dataset has 351631 rows and 9 columns.\nThe following columns are included in the data:\n\nAlert ID\nEvent ID\nUpdate Number\nDate\nAgency - Transit agency associated with the event (we are interested in the NYC subway)\nStatus Label - Pipe-delimited list of service statuses\nAffected - Pipe-delimited list of affected routes\nHeader - High-level overview of service impact\nDescription - Additional information related to the alert\n\n\n\n2.1.3 MTA Subway Wait Assessment: Beginning 2020\nThis dataset (source) measures how regularly trains are spaced on the MTA subway. Subway schedule data, including service changes, and actual train movement for each day are compiled into a pair of timetables, while the actual train movement and distance data come from a variety of sources. The dataset appears to have been updated at least once every month, and the data has 5306 rows and 8 columns as of 11/19/2024.\nThe following columns are included in the data:\n\nmonth\ndivision - The subway line division, lettered or numbered\nline - The subway line\nday_type - Whether the day is a weekday or a weekend\nperiod - Whether peak or off-peak service\nnum_timepoints_passing_wait_assessment - Number of scheduled timepoints where trips pass the wait assessment standard\nnum_sched_timepoints - Number of scheduled timepoints\nwait assessment - Percentage of trips that pass the wait assessment\n\n\n\n2.1.4 MTA Subway Hourly Ridership: Beginning July 2020\nThis dataset (source) subway ridership estimates on an hourly basis by subway station complex and class of fare payment, beginning July 2020. It captures rider entries made at subway turnstiles by using OMNY and MetroCard taps/swipes. MetroCard data is aggregated from on-premises MTA data servers, while OMNY data is provided by a third-party vendor named Cubic. This dataset appears to have multiple updates in October and November 2024. As of 12/9/2024, the dataset has about 105 million rows and 12 columns. Due to its large size (about 17 GB), we used Google Colab to aggregate and preprocess the data and reduce its size (described later).\nThe following columns are included in the (original) data:\n\ntransit_timestamp - Timestamp when the payment took place in local time, rounded down to the nearest hour\ntransit_mode\nstation_complex_id\nstation_complex\nborough\npayment_method\nfare_class_category\nridership\ntransfers\nlatitude\nlongitude\nGeoreference\n\n\n2.1.4.1 Preprocessing and aggregation\nAs mentioned earlier, the original dataset was very large and difficult to work with. We discovered that the original dataset had many columns that were not necessary for our analysis. Moreover, a major factor contributing to the size of the dataset was the fact that the ridership data was collected and stored on an hourly basis, rather than monthly. Thus, to reduce the size of the data, we performed the following steps in Google Colab (code can be viewed in the file /preprocessing-code/MTA_Preprocessing.ipynb on GitHub):\n\nFilter the data by the condition transit_mode == 'subway'\nExtract the year and month of the transit_timestamp and store them in new columns year and month\nCheck if the transit_timestamp represents a weekend or a weekday, and store the information in a new column day_type, in the same format as in the ‘MTA Subway Trains Delayed’ dataset\nRemove all columns except year, month, day_type, station_complex, and ridership\nGroup by all the columns except ridership and take the sum of ridership for every group\n\nThis effectively computes the overall monthly stationwise ridership for weekdays and weekends respectively, and reduces the size of the dataset to about 2000 KB. The new data set has 44095 rows and 5 columns.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\n\n2.2.1 MTA Subway Trains Delayed: Beginning 2020\n\n\nCode\nsubway_train_delays &lt;- read_csv(\"data/MTA_Subway_Trains_Delayed__Beginning_2020_20241118.csv\")\nplot_missing(subway_train_delays, num_char = 8)\n\n\n\n\n\n\n\n\n\nHere, the subcategory field is missing in less than 12.5% of the rows, while all the other values are present in all rows.\n\n\n2.2.2 MTA Service Alerts: Beginning April 2020\n\n\nCode\nmta_service_alerts &lt;- read_csv(\"data/MTA_Service_Alerts__Beginning_April_2020_20241118.csv\")\nplot_missing(mta_service_alerts, num_char = 7, max_cols = 4)\n\n\n\n\n\n\n\n\n\nHere, in about 62.5% of the rows only the Description field is missing, while there are a few rows where the Affected and the Header fields are missing as well.\n\n\n2.2.3 MTA Subway Wait Assessment: Beginning 2020\n\n\nCode\nsubway_wait_assessment &lt;- read_csv(\"data/MTA_Subway_Wait_Assessment__Beginning_2020_20241119.csv\")\nplot_missing(subway_wait_assessment, num_char = 7)\n\n\n\n\n\n\n\n\n\nThis dataset has no missing values.\n\n\n2.2.4 MTA Subway Hourly Ridership: Beginning July 2020\nSince the original dataset is very large, we did missing value analysis on our modified dataset. (Note: the first column represents a row index which is not relevant for our analysis)\n\n\nCode\nmta_ridership &lt;- read_csv(\"data/MTA_Subway_Hourly_Ridership_Data_Modified_v2.csv\")\nplot_missing(mta_ridership)\n\n\n\n\n\n\n\n\n\nThis dataset has no missing values.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
    "text": "3.1 Why the subway?\nFirst, it is important to visit why we choose the subway for this project. The subway is the most used mode of public transport in the city.\nHere, we see clearly that the median daily ridership for the subway is higher than even the peak ridership for any other mode of transport in the city. This speaks volumes about how important the subway system is, to the city. We see everyday the number of people on the subway, but this graph tells us how much more the number really is.\nThis makes so that the subway system is essentially a lifeline for the city itself, and needs to be as effective as possible to ensure the best possible effects for the citizens of the city (New Yorkers - us).",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#delays-in-the-subway",
    "href": "results.html#delays-in-the-subway",
    "title": "3  Results",
    "section": "3.2 Delays in the subway?",
    "text": "3.2 Delays in the subway?\nLet’s take a look at the delays in the subway system in the city.\n\n3.2.1 When are the delays occuring?\nHere’s a graph faceted over the delays over the weekdays and weekends in the NYC subway system.\n\n\n\n\n\n\n\n\n\nWe notice that there are more delays in the weekdays than on weekends, and we acknowledge the fact that this could be due to the larger number of “days” in the weekdays (5) than in the weekends (2). However, the more interesting pattern to notice here is the sudden spike in the number of delays on weekdays around 2021. This is a timeline around the pandemic, and the full functioning of the subway had not returned. However, the lack of the same pattern on the weekends means there is more to it than just the pandemic, or some extra ripple effect due to the pandemic.\nOn further digging, we found that (a lack of workers) is potentially a big reason why this is occuring. This ties in with the timeline, as well as, is a valid reason why this occured.\n\n\n3.2.2 Why are the delays occuring?\nIt is also important to correlate the same with the reasons mentioned in the dataset, which we perform below.\n\n\n\n\n\n\n\n\n\nHere, we clearly see that crew availability was a problem pretty much through the year 2021, however this faceting tells another story about the delays that occurred after 2021 - notice the graphs on Operating Conditions. This indicates that the overall operating conditions of the subway only deteriorated over time on an overall scale. However, there are two more important things to note :\n\nThe A-C-E line had an initial increase in the total number of delays due to operating conditions and then a subsequent decrease. Similarly, the 4-5-6 lines have had an increase too. This also corresponds the the uptick in the planned ROW work column, where we see that there are more delays in the A-C-E lines to deter these problems.\nSecondly we see a large number of delays on the 4-5-6 lines due to police and medical reasons, and this can probably be attributed to the (higher crime rates) in Brooklyn and Bronx, both of which boroughs are connected by these lines.\n\nThe above graph shows a raw number of the number of delays due to each category, but it is interesting to see a more nuanced approach to the same number.\n\n\n\n\n\n\n\n\n\nHere, we ensure that we normalize across the number of days in weekdays and weekends but dividing the number of delays on weekdays by 5 and weekends by 2. A standard belief is that the total number of delays on weekends is higher, but clearly, there have been more infrastructure related delays on weekdays, over the last 4 years. This is concerning, since we see in the previous graph that the number of infrasture related delays has been more or less constant over the last 3 years, with 2020 being the all exempt pandemic year.\nThe other major observation is that the number of delays due to external factors is an extremely small percentage of the total number of delays. This is another major concern, since apart from Police and Medical related issues, all other categories are known to be preventable, or are otherwise under the control of the MTA.\n\n\n3.2.3 How many trains are really delayed?\nHere we look at the percentage of trains per month that are delayed.\n\n\n\n\n\n\n\n\n\nAlmost every month, there is a good percentage of trains that are delayed. This is not a good sign for the subway’s reliability. Especially when we notice that the weekday delays are much more frequent than the weekend delays.\nOverall, the total number of late trains should be as close to zero as possible, but we do see some months in 2021 which had close to 35% trains delayed. This, especially on weekdays, causes huge problems to all commuters whose primary mode of transport is the subway (which as we saw in the first section, is a majority of New Yorkers).\nThis also looks like a one off trend for this year, where only the months in 2021 had a large nummber of delays, which could be attributed, as earlier to the article linked previously.\n\n\n3.2.4 Are we getting alerts on time?\n\n\n\n\n\n\n\n\n\nClearly, we are getting more alerts on the weekends than on weekdays. This is opposite to the number of actual delays. This is a major problem, since typically, we expect the number of delays and number of service alerts to follow a similar pattern.\nAs part of this project, we also revisited the delays definition to ensure that even with an alert, a delay is still being counted in the total number of delays.\n\n3.2.4.1 Side note : Alert data quality and distribution\nDuring our experimentation, we came across many patterns that did not show any real patterns. For example, the alert distribution per line, or the alert distribution by group. However, this graph shows a fairly interesting characteristic of the alerts.\n\n\n\n\n\n\n\n\n\nIn this graph, the interesting insights are mainly around the distribution of alerts across weekday / weekend. We see that in every category, the average number of alerts per weekday is the same as the average number of alerts per weekend. This shows that there are no specific alerts (apart from weekday and weekend service). This is interesting because there are different patterns for both delays and alerts for every category, in the delays as we saw before, but not in the alerts. The overall number is more or less equal.\nAnother interesting insight is around the fact that there are a small number of alerts for “weekday service” on weekends and vice versa. This could be an issue with the data quality, or maybe there is a underlying reason why this occurs. We could contact the data source for an explanation on this. But Nonetheless, the presence of these rows is pretty interesting.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#wait-times",
    "href": "results.html#wait-times",
    "title": "3  Results",
    "section": "3.3 Wait times",
    "text": "3.3 Wait times\nLet us take a look at the percentage of delays in the subway system over the same time period.\n\n\n\n\n\n\n\n\n\nHere, the first spike we notice is during the Covid 19 pandemic in 2020. But the most interesting pattern is the fact that the S line had a steady amount of delays throughout the 3 years, but suddenly in April 2024, we see a sudden spike in the wait times. No other line has such a drastic change in delays anywhere else. (This) is the only article specific to the S train in 2024. This can be a reason why this pattern exists.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#total-ridership-analysis",
    "href": "results.html#total-ridership-analysis",
    "title": "3  Results",
    "section": "3.4 Total Ridership analysis",
    "text": "3.4 Total Ridership analysis\nHere, the ridership of particular lines is hard to gauge since the nyc subway has multiple crossover points, and it is hard to note which line a particular person got onto from the subway.\nSo, we see the total number of riders from every subway station.\n\n\n\n\n\n\n\n\n\nHere, we see that there is a higher number of riders every weekday than every weekend. Most of these are stations that we expect to be here.\nTimes Square being the most populous station is quite expected, and since the grand central station connects the west side and east side, we can explain it being up there, along with all the tourists who would want to visit the station.\nThere is also a small mislabelling in the dataset where it notes 14th street (1,2,3) and (A,C,E) Penn station for the same pairs of station are separate. This can probably be attributed to the fact that these stations have seperate entrances multiple streets apart that are closer to the respective lines, however there is a link between these lines that is navigable without exits. This should ideally put the stations in the same bucket, but the MTA data collection team has not done this.\n\n3.4.1 Ridership - Going one step deeper\nDo all stations get a similar influx of passengers through the year? Are there stations that get a higher influx on certain weekdays?\n\n\n\n\n\n\n\n\n\nHere, we notice that although the graphs for each of the stations is not exactly the same, it follows a very similar pattern. The existence of this patterns means that there are no line wise / area wise separate trends on the subway system on weekdays , all the stations get a higher influx of passengers at similar times in the year, and similarly the troughs in this trend also correspond to one another. Thus we say that we have similar patterns throughout.\nHowever, we see that the overall ridership trends upwards, with time, since the pandemic. We see that there has been an increase in the total number of passengers overall. We can take a look at this along with the weekend plot in the interactive plot.\nIn a way, this is a sign of good subway design, since the stations that we see on this list follow more or less a similar order in terms of their size as well.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "d3graph.html",
    "href": "d3graph.html",
    "title": "4  Interactive graph",
    "section": "",
    "text": "This graph shows the monthly ridership of the 6 most frequently used subway stations by weekday and weekend, dynamically updating by month. This is another way to visualize the last line graph of the previous section. It is apparent that the relative lengths of the bars remain almost unchanged during different months, which correspond to the trends observed in the line graph (ridership appears to increase and decrease uniformly across the entire subway system). Also, notice that there is an overall increase in the bar lengths from 2020 to 2024, which corresponds to the steady increase in ridership visible in the line graph (ridership was lower than usual during the time of the pandemic, and then steadily increased afterwards).",
    "crumbs": [
      "<span class='chapter-number'>4</span>  <span class='chapter-title'>Interactive graph</span>"
    ]
  }
]